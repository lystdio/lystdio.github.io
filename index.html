<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
































<link href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/blog/css/main.css?v=6.6.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png?v=6.6.0">


  <link rel="mask-icon" href="/blog/images/logo.svg?v=6.6.0" color="#222">









<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Mist',
    version: '6.6.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="撼地神牛">
<meta property="og:url" content="https://handishenniu.coding.me/blog/index.html">
<meta property="og:site_name" content="撼地神牛">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="撼地神牛">






  <link rel="canonical" href="https://handishenniu.coding.me/blog/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>撼地神牛</title>
  






  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?304ebec1c594afeac3282f7afb1f3448";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion .logo-line-before i { left: initial; }
    .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <meta name="baidu-site-verification" content="I6eGI4JjZi">
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
    
    
    
    <a href="https://github.com/lystdio" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blog/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">撼地神牛</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/blog/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/blog/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/blog/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/blog/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-sitemap">

    
    
    
      
    

    

    <a href="/blog/sitemap.xml" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>站点地图</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/blog/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    
  
  
  
  

  

    <a href="https://github.com/lystdio" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" style="fill: #222; color: #fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://handishenniu.coding.me/blog/blog/2019/02/15/2019-02-15-RegExp/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="撼地神牛">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/blog/2019/02/15/2019-02-15-RegExp/" class="post-title-link" itemprop="https://handishenniu.coding.me/blog/index.html">正则表达式</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-02-15 16:45:18 / 修改时间：17:00:52" itemprop="dateCreated datePublished" datetime="2019-02-15T16:45:18+08:00">2019-02-15</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/blog/categories/正则/" itemprop="url" rel="index"><span itemprop="name">正则</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-正则表达式是什么？"><a href="#1-正则表达式是什么？" class="headerlink" title="1.正则表达式是什么？"></a>1.正则表达式是什么？</h2><p>​    它是使用单个字符串来描述、匹配一系列某个语法规则的字符串。它经常可以被用来检索、替换那些某个匹配模式的文本。<u><strong>通俗的说就是按照某种规则去匹配符合条件的字符串</strong></u>。</p>
<p><strong>举个栗子</strong></p>
<blockquote>
<p>​    2018-12-11 08:59:00 江伟哥发现我师傅还没有到公司，昨天说好的让我师傅早到给帮忙打个卡但都59分了自己都还没到。可更大的问题来了，江伟哥不知道我师傅把他的卡放在哪了。08:59:15，江伟哥慌忙之中拨通了第一个电话但却是空号，定睛一看号码1885646465，原来是慌乱中少输了一位号码。08:59:30，江伟哥拨通了第二个电话，电话那头传来一个女声：“你好，这里是和利时。”诧异之中江伟哥再次确认了一遍号码，029-96544856，原来刚才一个不小心通讯录里点到了和利时前台的电话，江伟哥气的拍起了大腿。08:59:50，再次拨通前，江伟哥一位一位的确认了号码，18856464655，没错了，赶紧拨通！随着电话那头我师傅带着倦意的一句“喂，哪位”，卡机上的时间跳到了09:00:00。2018-12-12，收到迟到罚款通知的江伟哥开始自闭。</p>
</blockquote>
<ul>
<li><p>匹配这段文字中符合规范的手机号：<code>1[34578]\d{9}</code></p>
</li>
<li><p>匹配这段文字中所有的日期：<code>\d{4}[/-]\d{2}[/-]\d{2}</code></p>
</li>
<li><p>对这段文字中匹配到的所有日期进行年月日的分组：<code>(\d{4})[/-](\d{2})[/-](\d{2})</code></p>
</li>
</ul>
<h2 id="2-正则表达式中的一些语法"><a href="#2-正则表达式中的一些语法" class="headerlink" title="2.正则表达式中的一些语法"></a>2.正则表达式中的一些语法</h2><h3 id="2-1-修饰符（g-i-m）"><a href="#2-1-修饰符（g-i-m）" class="headerlink" title="2.1.修饰符（g i m）"></a>2.1.修饰符（g i m）</h3><p>​    修饰符比较特殊，它放在表达式的最后，在构造函数声明的时候作为第二的参数被传进去的。整个表达式可以理解为匹配规则字符串+修饰符，修饰符有三个g、i、m，他们可以一起用。</p>
<ul>
<li>g（global）：执行全局匹配</li>
<li>i（ignore case）：执行一个不区分大小写的匹配</li>
<li>m（multiple lines）：执行多行匹配</li>
</ul>
<p><code>注：此处仅介绍了常用的三个，修饰符还包含s、U、X、A、D、e</code></p>
<h4 id="2-1-1-全局匹配"><a href="#2-1-1-全局匹配" class="headerlink" title="2.1.1.全局匹配"></a>2.1.1.全局匹配</h4><p>还是上面那段文字，如果在匹配日期的时候我使用全局匹配和不使用全局匹配的结果区别：</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/非全局匹配.jpg" alt="非全局匹配"></p>
<hr>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/全局匹配.jpg" alt="全局匹配"></p>
<h4 id="2-1-2-不区分大小写匹配"><a href="#2-1-2-不区分大小写匹配" class="headerlink" title="2.1.2.不区分大小写匹配"></a>2.1.2.不区分大小写匹配</h4><p>​    正如名字，就是在匹配的时候是否大小写敏感：</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/大小写敏感匹配.jpg" alt=""></p>
<hr>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/忽略大小写匹配.jpg" alt="忽略大小写匹配"></p>
<h4 id="2-1-3-多行匹配"><a href="#2-1-3-多行匹配" class="headerlink" title="2.1.3.多行匹配"></a>2.1.3.多行匹配</h4><p>​    当使用多行匹配的时候，那么边界匹配符<code>^</code>和<code>$</code>将匹配行的开始和结束，反之则匹配整个字符串的开始和结束。如果将上面那段文字分为两段，每段使用一个<code>&lt;p&gt;</code>标签，那么我们尝试在多行模式开启以及不开启的时候匹配段落标签中的内容：</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/多行匹配.jpg" alt=""></p>
<hr>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/非多行匹配.jpg" alt="非多行匹配"></p>
<h3 id="2-2-正则表达式字符的组成"><a href="#2-2-正则表达式字符的组成" class="headerlink" title="2.2.正则表达式字符的组成"></a>2.2.正则表达式字符的组成</h3><p>​    正则表达式中由几种基本字符组成：</p>
<ul>
<li>原义字符</li>
<li>非打印字符</li>
<li>元字符</li>
</ul>
<h3 id="2-3-原义字符"><a href="#2-3-原义字符" class="headerlink" title="2.3.原义字符"></a>2.3.原义字符</h3><p>​    拿多行匹配的那个栗子来说，正则表达式中<code>&lt;p&gt;</code>就是原义字符，这个字符代表的就是它本身的意思。那么如果需要标记一个字符为特殊字符、或一个原义字符，那么就可以使用<code>\</code>符号将下一个字符标记转义。比如<code>n</code>将匹配一个字符<code>n</code>，而<code>\n</code>将匹配一个换行符。再比如<code>^</code>将作为起始边界的匹配标记，而<code>\^</code>将匹配<code>^</code>字符。</p>
<h3 id="2-4-非打印字符"><a href="#2-4-非打印字符" class="headerlink" title="2.4.非打印字符"></a>2.4.非打印字符</h3><p>​    比如回车符、换行符、换页符等都属于非打印字符，它经常被用在文本文件的处理上：</p>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\v</td>
<td style="text-align:center">匹配一个垂直制表符，等价于 \x0b 和 \cK</td>
</tr>
<tr>
<td style="text-align:center">\f</td>
<td style="text-align:center">匹配一个换页符，等价于 \x0c 和 \cL</td>
</tr>
<tr>
<td style="text-align:center">\n</td>
<td style="text-align:center">匹配一个换行符，等价于 \x0a 和 \cJ</td>
</tr>
<tr>
<td style="text-align:center">\r</td>
<td style="text-align:center">匹配一个回车符，等价于 \x0d 和 \cM</td>
</tr>
<tr>
<td style="text-align:center">\s</td>
<td style="text-align:center">匹配任何空白字符，包括空格、制表符、换页符等等，等价于 [ \f\n\r\t\v]</td>
</tr>
<tr>
<td style="text-align:center">\S</td>
<td style="text-align:center">匹配任何非空白字符，等价于 [^ \f\n\r\t\v]</td>
</tr>
<tr>
<td style="text-align:center">\t</td>
<td style="text-align:center">匹配一个制表符，等价于 \x09 和 \cI</td>
</tr>
</tbody>
</table>
<h3 id="2-5-元字符"><a href="#2-5-元字符" class="headerlink" title="2.5.元字符"></a>2.5.元字符</h3><h4 id="2-5-1-字符类（-）"><a href="#2-5-1-字符类（-）" class="headerlink" title="2.5.1.字符类（ [ ] ）"></a>2.5.1.字符类（ [ ] ）</h4><p>​    比如在第一节我们匹配手机号所用的正则表达式中<code>1[34578]\d{9}</code>手机号的第二位可能是3、4、5、7、8中的任意一位，那<code>[34578]</code>就表示这些字符的一个集合。</p>
<h4 id="2-5-2-字符类取反（-）"><a href="#2-5-2-字符类取反（-）" class="headerlink" title="2.5.2.字符类取反（ [ ^ ] ）"></a>2.5.2.字符类取反（ [ ^ ] ）</h4><p>​    就是字符类的一个相反情况，表示不包含这些字符。</p>
<h4 id="2-5-3-范围类（-）"><a href="#2-5-3-范围类（-）" class="headerlink" title="2.5.3.范围类（ [-] ）"></a>2.5.3.范围类（ [-] ）</h4><p>​    正则表达式支持一定的范围规则，比如<code>[a-z]</code>表示字母a到z，<code>[0-9]</code>表示数字0到9。多种范围类可以写到一个字符类中，比如匹配字母a到z和数字0到9，那么就可以写成<code>[a-z0-9]</code>。</p>
<h4 id="2-5-4-预定义类"><a href="#2-5-4-预定义类" class="headerlink" title="2.5.4.预定义类"></a>2.5.4.预定义类</h4><p>​    有了这些预定义类，会简化正则表达式能够比较方便的书写。比如第一节举的栗子中匹配日期所使用的正则表达式<code>\d{4}[/-]\d{2}[/-]\d{2}</code>，<code>\d</code>就表示了数字字符，如果不适用预定义类，那么这个正则表达式会变得比较复杂<code>[0-9]{4}[/-][0-9]{2}[/-][0-9]{2}</code>：</p>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th style="text-align:center">等价于</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">.</td>
<td style="text-align:center">[^\n\r]</td>
<td style="text-align:center">除了回车符和换行符之外的所有字符</td>
</tr>
<tr>
<td style="text-align:center">\d</td>
<td style="text-align:center">[0-9]</td>
<td style="text-align:center">数字字符</td>
</tr>
<tr>
<td style="text-align:center">\D</td>
<td style="text-align:center">[^0-9]</td>
<td style="text-align:center">非数字字符</td>
</tr>
<tr>
<td style="text-align:center">\s</td>
<td style="text-align:center">[\t\n\x0B\f\r]</td>
<td style="text-align:center">空白符</td>
</tr>
<tr>
<td style="text-align:center">\S</td>
<td style="text-align:center">[^\t\n\x0B\f\r]</td>
<td style="text-align:center">非空白符</td>
</tr>
<tr>
<td style="text-align:center">\w</td>
<td style="text-align:center">[a-zA-Z_0-9]</td>
<td style="text-align:center">单词字符（数字字母下划线）</td>
</tr>
<tr>
<td style="text-align:center">\W</td>
<td style="text-align:center">[^a-zA-Z_0-9]</td>
<td style="text-align:center">非单词字符</td>
</tr>
</tbody>
</table>
<h4 id="2-5-5-边界"><a href="#2-5-5-边界" class="headerlink" title="2.5.5.边界"></a>2.5.5.边界</h4><p>​    正如它的字面意思，边界就是定义匹配的边界条件。比如在<code>2.1.3</code>节中匹配<code>&lt;p&gt;</code>标签中段落所使用的<code>^(&lt;p&gt;)</code>就代表以<code>&lt;p&gt;</code>原义字符作为字符串的开始，<code>$(&lt;/p&gt;)</code>就代表以<code>&lt;/p&gt;</code>原义字符作为字符串的结尾。边界字符一共有四种：</p>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">^</td>
<td style="text-align:center">以xxx开头</td>
</tr>
<tr>
<td style="text-align:center">$</td>
<td style="text-align:center">以xxx结尾</td>
</tr>
<tr>
<td style="text-align:center">\b</td>
<td style="text-align:center">单词边界，指[a-zA-Z_0-9]之外的字符</td>
</tr>
<tr>
<td style="text-align:center">\B</td>
<td style="text-align:center">非单词边界</td>
</tr>
</tbody>
</table>
<p>​    <code>\b</code>和<code>\B</code>可能会稍微难理解一些，因为之前的元字符是匹配一个<strong>字符</strong>，而它俩匹配的是一个<strong>位置</strong>，这个位置就是<strong>单词边界</strong>位置（<u>它的前一个字符和后一个字符不全是(一个是,一个不是或不存在) 单词字符</u>），括号内的内容可以先不理解，继续向下看。</p>
<p>​    首先<strong>单词边界</strong>简单的来说就是单词（\w）和符号(\W)之间的位置，举一个栗子来更具体的说明：在<code>@Hello,hollysys!</code>这个字符串中<strong>单词边界</strong>的位置添加一个<code>*</code>号，那么结果就是<code>@*Hello*,*hollysys*!</code>。观察一下特征，我们再来理解上一段中下划线内容。单词边界前后相邻的两边一定一边是单词字符而另一边是非单词字符或者没有字符，如果符合这个规则，那么这个位置就是单词边界。<code>\b</code>匹配的就是这个位置，那么正则表达式<code>\bHello</code>就可以理解为：匹配处于<strong>单词边界</strong>位置的<code>Hello</code>，<code>\B</code>与之相反。</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/匹配单词边界.jpg" alt=""></p>
<hr>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/匹配非单词边界.jpg" alt="匹配非单词边界"></p>
<h4 id="2-5-6-量词-重复-限定符"><a href="#2-5-6-量词-重复-限定符" class="headerlink" title="2.5.6.量词/重复/限定符"></a>2.5.6.量词/重复/限定符</h4><p>​    在<code>2.5.4</code>节中我们知道，匹配一个数字字符可以不使用范围类<code>[0-9]</code>而使用一个元字符<code>\d</code>。那如果匹配一个10位的数字需要<code>\d\d\d\d\d\d\d\d\d\d</code>吗？当然不用，量词简化了这种情况的书写方式：</p>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">?</td>
<td style="text-align:center">出现零次或一次</td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">出现零次或多次(任意次)</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">出现一次或多次（至少一次）</td>
</tr>
<tr>
<td style="text-align:center">{n}</td>
<td style="text-align:center">对应零次或者n次</td>
</tr>
<tr>
<td style="text-align:center">{n,m}</td>
<td style="text-align:center">至少出现n次但不超过m次</td>
</tr>
<tr>
<td style="text-align:center">{n,}</td>
<td style="text-align:center">至少出现</td>
</tr>
</tbody>
</table>
<p>​    在第一节栗子中匹配手机号所用的表达式<code>1[34578]\d{9}</code>最后的<code>{9}</code>就是一个量词，代表匹配9个数字字符。</p>
<h4 id="2-5-7-贪婪与懒惰（-）"><a href="#2-5-7-贪婪与懒惰（-）" class="headerlink" title="2.5.7.贪婪与懒惰（ ? ）"></a>2.5.7.贪婪与懒惰（ ? ）</h4><p>​    贪婪和懒惰是描述正则表达式的两种匹配方式，正如其名贪婪就是匹配尽可能多的结果，懒惰则与之相反。默认情况下正则表达式会采用贪婪模式进行匹配，而在量词后加<code>?</code>则会使用懒惰匹配。在量词描述下匹配单词字符时，贪婪模式会采取上限去匹配，而懒惰模式会采取下限模式匹配。这里我们结合上一小节量词的内容举例说明：使用正则表达式<code>\w{3,6}</code>对字符串<code>Hollysys</code>进行贪婪和懒惰匹配，观察结果。</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/懒惰匹配.jpg" alt=""></p>
<hr>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/贪婪匹配.jpg" alt="贪婪匹配"></p>
<h4 id="2-5-8-分支条件（-）"><a href="#2-5-8-分支条件（-）" class="headerlink" title="2.5.8.分支条件（ | ）"></a>2.5.8.分支条件（ | ）</h4><p>​    正则表达式中的分支条件就是几种规则，在表达式中使用<code>|</code>将不同的规则分开，在匹配时会对每个分支进行匹配，举个栗子：</p>
<p>​    我们还是那开头那个栗子，我现在需要匹配全文中所有的<code>江伟</code>和<code>师傅</code>，那正则表达式就可以写成</p>
<p><code>江伟|师傅</code>，提供了两种规则就可以将所有的结果匹配出来。</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/分支匹配.jpg" alt=""></p>
<h4 id="2-5-9-分组与反向引用"><a href="#2-5-9-分组与反向引用" class="headerlink" title="2.5.9.分组与反向引用"></a>2.5.9.分组与反向引用</h4><table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th style="text-align:center">含义</th>
<th style="text-align:center">分类</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">(exp)</td>
<td style="text-align:center">匹配exp，并将结果自动命名分组</td>
<td style="text-align:center">捕获</td>
</tr>
<tr>
<td style="text-align:center">(?\<name>exp)</name></td>
<td style="text-align:center">匹配exp，并将结果按指定名称命名分组</td>
<td style="text-align:center">捕获</td>
</tr>
<tr>
<td style="text-align:center">(?:exp)</td>
<td style="text-align:center">匹配exp，但是不捕获结果也不对结果进行分组</td>
<td style="text-align:center">捕获</td>
</tr>
<tr>
<td style="text-align:center">(?=exp)</td>
<td style="text-align:center">匹配exp前面的<strong>位置</strong></td>
<td style="text-align:center">断言</td>
</tr>
<tr>
<td style="text-align:center">(?&lt;=exp)</td>
<td style="text-align:center">匹配exp后面的<strong>位置</strong></td>
<td style="text-align:center">断言</td>
</tr>
<tr>
<td style="text-align:center">(?!exp)</td>
<td style="text-align:center">匹配后面不是exp的<strong>位置</strong></td>
<td style="text-align:center">断言</td>
</tr>
<tr>
<td style="text-align:center">(?&lt;!exp)</td>
<td style="text-align:center">匹配前面不是exp的<strong>位置</strong></td>
<td style="text-align:center">断言</td>
</tr>
<tr>
<td style="text-align:center">(?#comment)</td>
<td style="text-align:center">注释，不参与正则运算</td>
<td style="text-align:center">注释</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>分组</strong></li>
</ul>
<p>​    分组又称为子表达式，干嘛用的？我又要举栗子了，首先我们看一种情况：如果我们需要将一个字符串中所有多个连续的<code>abc</code>替换为<code>*</code>号，那么我们结合<code>2.5.6</code>中所说的量词使用正则<code>abc{2,}</code>进行匹配，发现结果并不是所预期的，量词只作用到了<code>c</code>上而不是<code>abc</code>上。</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/非分组举例.jpg" alt=""></p>
<p>​    这里为了使量词作用到<code>abc</code>上，就用到了分组的概念。正如本节开头所述，分组称为子表达式，<code>abc</code>就是一个只含有原义字符的表达式，使用圆括号将表达式括起来作为子表达式将子表达式匹配的结果做进一步处理，此时后面的量词就会作用在这个子表达式上。</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/分组举例.jpg" alt=""></p>
<ul>
<li><strong>反向引用</strong></li>
</ul>
<p>​    反向引用往往和分组一起使用，当一个表达式被分组之后，该表达式所匹配到的内容会被自动赋予一个组号。默认情况下从左到右以分组的左括号作为标志，按先后出现顺序编号1、2、3···(0对应整个正则表达式)通过组号可以获得对应表达式所匹配到的结果。如本文开头举栗中对匹配到的所有日期进行年月日的分组使用的正则表达式<code>(\d{4})[/-](\d{2})[/-](\d{2})</code>，我们来看下匹配的结果：</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/分组匹配.jpg" alt=""></p>
<p>​    当然除了默认的组号，还可以自己定义每一组的名称，我们对这个例子进一步改造，只需要在分组的子表达式前面添加<code>?&lt;name&gt;</code>使其这个分组有一个固定的名称。</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/分组命名.jpg" alt=""></p>
<p><code>注意：实际上组号分配过程是要从左向右扫描两遍的：第一遍只给未命名的组分配，第二遍只给命名的组分配，因此所有命名组的组号都大于未命名的组号。</code></p>
<p>​    这里我们再提出一个场景，需要使用正则表达式匹配并取到下面域名列表中所有域名的名称：</p>
<blockquote>
<p><a href="https://www.baidu.com" target="_blank" rel="noopener">https://www.baidu.com</a><br><a href="http://www.hollysys.com" target="_blank" rel="noopener">http://www.hollysys.com</a><br><a href="https://www.qq.com" target="_blank" rel="noopener">https://www.qq.com</a><br>mysql://<a href="http://www.aliyun.com:3306/device_db" target="_blank" rel="noopener">www.aliyun.com:3306/device_db</a><br><a href="http://www.forkbteam.com" target="_blank" rel="noopener">http://www.forkbteam.com</a><br><a href="https://163.com" target="_blank" rel="noopener">https://163.com</a><br><a href="http://google.cn" target="_blank" rel="noopener">http://google.cn</a><br>tcp://127.0.0.1</p>
</blockquote>
<p>​    那么我们可以使用正则表达式<code>(?:http|https)://w*\.?(.*)\.(?:com|cn)</code>进行匹配，当在子表达式最前面添加<code>?:</code>则不会捕获该组的结果，匹配结果如下图所示：</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/分组匹配2.jpg" alt=""></p>
<p><code>注：2.5节中省略了平衡组、零宽断言和负零宽断言的介绍。</code></p>
<h2 id="3-正则表达式是如何匹配的？"><a href="#3-正则表达式是如何匹配的？" class="headerlink" title="3.正则表达式是如何匹配的？"></a>3.正则表达式是如何匹配的？</h2><p>​    那么正则表达式是怎么匹配的？它的工作机制是什么？这也是需要有些了解的，因为这对于写一个好的正则表达式非常有帮助，能有效提高匹配文本所需消耗的性能与时间。</p>
<h3 id="3-1-正则表达式的工作机制"><a href="#3-1-正则表达式的工作机制" class="headerlink" title="3.1.正则表达式的工作机制"></a>3.1.正则表达式的工作机制</h3><h4 id="3-1-1-匹配引擎眼里的字符串"><a href="#3-1-1-匹配引擎眼里的字符串" class="headerlink" title="3.1.1.匹配引擎眼里的字符串"></a>3.1.1.匹配引擎眼里的字符串</h4><p>​    在说到边界时，我们知道边界匹配的是一个位置，而预定义类等匹配的是一个字符。所以被匹配的一串字符<code>Hollysys</code>在正则匹配引擎眼里是含有位置占位符的<code>0H1o2l3l4s5y6s7</code>。</p>
<h4 id="3-1-2-匹配流程"><a href="#3-1-2-匹配流程" class="headerlink" title="3.1.2.匹配流程"></a>3.1.2.匹配流程</h4><p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/正则表达式工作机制.jpg" alt=""></p>
<p>​    正则表达式在编译之后会从头字符开始匹配，如果匹配成功，会查找是否还有其他的路径没有匹配到，如果有的话，会回退到上一次成功匹配的位置然后重复第二步操作，不过此时开始匹配的位置是上次成功位置加1。这整个匹配过程的基础环节就是回溯，回溯是驱动正则匹配的一个基本动力，也是影响匹配性能的一个关键。</p>
<h4 id="3-1-3-占有字符和零宽度"><a href="#3-1-3-占有字符和零宽度" class="headerlink" title="3.1.3.占有字符和零宽度"></a>3.1.3.占有字符和零宽度</h4><p>​    如果一个子表达式在匹配过程中匹配到了结果，而且这个结果不是一个位置而是一个字符，那么它所匹配到的结果会被它占有并保存到匹配结果中，这种称为占有字符。而如果匹配到的是一个位置，那么这个位置是不会被它占有更不会保存到匹配结果中去，这种称为零宽度。</p>
<p>​    占有字符是互斥的，零宽度是非互斥的，也就是说一个字符同一时间只能被一个表达式匹配，而一个位置在同一时间可以被多个零宽度表达式匹配。对，我要举栗子了：</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/零宽度非互斥.jpg" alt=""></p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/占有字符互斥.jpg" alt=""></p>
<p>​    第一张图可以看到两个子表达式都在匹配同一个位置，结果中可以看到这个表达式执行成功。第二张图两个子表达式都在匹配字符f，但是无法匹配成功。因为当第一个子表达式将f占有后，第二个子表达式无法再找到符合条件的匹配而使得整个表达式匹配失败。</p>
<h4 id="3-1-4-控制权和传动"><a href="#3-1-4-控制权和传动" class="headerlink" title="3.1.4.控制权和传动"></a>3.1.4.控制权和传动</h4><p>​    正则表达式在由左向右依次匹配时，会有一个表达式先取得控制权，从某个位置开始匹配。当这个子表达式匹配结束后，会将控制权传动给下一个子表达式。下一个子表达式会从上一个表达式匹配成功之后的位置开始匹配，但如果上一个子表达式是零宽度，那么匹配的位置还是上一个子表达式匹配的位置。</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/控制权和传动.jpg" alt=""></p>
<h3 id="3-2-运算优先级"><a href="#3-2-运算优先级" class="headerlink" title="3.2.运算优先级"></a>3.2.运算优先级</h3><p>​    正则表达式从左到右进行计算，并遵循优先级顺序。相同优先级的从左到右进行运算，不同优先级的运算先高后低。下表从由高到最低对元字符的优先级进行了排序：</p>
<table>
<thead>
<tr>
<th style="text-align:center">元字符</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\</td>
<td style="text-align:center">转义符</td>
</tr>
<tr>
<td style="text-align:center">()，(?:)，(?=),[]</td>
<td style="text-align:center">圆括号和方括号</td>
</tr>
<tr>
<td style="text-align:center">*，+，?，{n}，{n,}，{n,m}</td>
<td style="text-align:center">量词</td>
</tr>
<tr>
<td style="text-align:center">^，$，\任何元字符、任何字符</td>
<td style="text-align:center">位置和顺序</td>
</tr>
<tr>
<td style="text-align:center">\</td>
<td style="text-align:center"></td>
<td>或</td>
</tr>
</tbody>
</table>
<h3 id="3-3-回溯"><a href="#3-3-回溯" class="headerlink" title="3.3.回溯"></a>3.3.回溯</h3><p>​    正则表达式中分支和量词出现的次数是比较多的，量词就如<code>2.5.6</code>小节所述，正则表达式需要决定何时去尝试匹配更多的字符。而分支如<code>2.5.8</code>小节最后的栗子一样，在匹配时我需要<code>http</code>和<code>https</code>两种情况开头的URL，那么<code>（http|https）</code>就提供了两个分支供正则选择。对于这种模糊条件匹配，最好的办法就是穷举，将所有可能的结果匹配一遍，<strong>一旦匹配成功立即返回结果</strong>。那么这里我们就这两种情况结合回溯分析正则表达式是如何匹配的。</p>
<h4 id="3-3-1-分支-amp-回溯"><a href="#3-3-1-分支-amp-回溯" class="headerlink" title="3.3.1.分支&amp;回溯"></a>3.3.1.分支&amp;回溯</h4><p>​    在<code>2.5.8</code>小节中说到了分支，分支是提供多个规则给正则表达式进行匹配，为了去匹配这些规则就需要进行回溯。这里通过描述正则表达式<code>H(ollysys|ere)&lt;/p&gt;</code>对<code>Here is &lt;p&gt;Hollysys&lt;/p&gt; company</code>的匹配过程来展示分支的回溯过程。</p>
<table>
<thead>
<tr>
<th>匹配结果</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>H</td>
<td>在位置0匹配到了字符<code>H</code></td>
</tr>
<tr>
<td>H</td>
<td>选择<code>ollsys</code>分支进行匹配</td>
</tr>
<tr>
<td>He</td>
<td>位置1不是字符<code>o</code>，回溯</td>
</tr>
<tr>
<td>H</td>
<td>选择<code>ere</code>分支进行匹配</td>
</tr>
<tr>
<td>He</td>
<td>位置1上成功匹配字符<code>e</code></td>
</tr>
<tr>
<td>Here</td>
<td>位置2、3上成功匹配字符<code>re</code>，该分支匹配成功</td>
</tr>
<tr>
<td>Here</td>
<td>位置4不是字符<code>&lt;</code>，该路径匹配失败</td>
</tr>
<tr>
<td>Null</td>
<td>位置2不是字符<code>H</code>，匹配失败</td>
</tr>
<tr>
<td>···</td>
<td>···</td>
</tr>
<tr>
<td>H</td>
<td>位置11匹配到字符<code>H</code></td>
</tr>
<tr>
<td>H</td>
<td>选择<code>ollsys</code>分支进行匹配</td>
</tr>
<tr>
<td>Hollysys</td>
<td>匹配到了<code>ollysys</code>，该分支匹配成功</td>
</tr>
<tr>
<td>Hollysys&lt;</td>
<td>在位置9匹配到了字符<code>&lt;</code></td>
</tr>
<tr>
<td>Hollysys\<p></p></td>
<td>在位置10、11、12上匹配到了<code>/p&gt;</code></td>
</tr>
<tr>
<td>Hollysys\<p></p></td>
<td>该路径匹配成功</td>
</tr>
</tbody>
</table>
<p><code>注：正则表达式是从左到右依次匹配，如果满足了某个分支的话它就不会再管其他分支了</code></p>
<h4 id="3-3-1-量词-amp-回溯"><a href="#3-3-1-量词-amp-回溯" class="headerlink" title="3.3.1.量词&amp;回溯"></a>3.3.1.量词&amp;回溯</h4><p>​    如<code>2.5.7</code>小节所述，在使用量词匹配时有贪婪和懒惰两种匹配模式，该小节中我们使用正则表达式<code>&lt;.*&gt;</code>和<code>&lt;.*?&gt;</code>对字符串<code>Here is &lt;p&gt;Hollysys&lt;/p&gt; company</code>进行匹配。那么是如何匹配的呢？</p>
<ul>
<li>`&lt;.*&gt;</li>
</ul>
<table>
<thead>
<tr>
<th>匹配结果</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;</td>
<td>先匹配<code>&lt;</code>字符，在位置8匹配成功</td>
</tr>
<tr>
<td>\<p>Hollysys\</p> company</td>
<td>默认贪婪匹配，量词取上限<code>.*</code>一下吞噬后面的所有字符</td>
</tr>
<tr>
<td>\<p>Hollysys\</p> company</td>
<td>后面没有字符供<code>&gt;</code>匹配，回溯，要求<code>.*</code>吐一个字符出来</td>
</tr>
<tr>
<td>\<p>Hollysys\</p> compan</td>
<td>吐得字符不是<code>&gt;</code>，回溯，再给我吐一个</td>
</tr>
<tr>
<td>\<p>Hollysys\</p> compa</td>
<td>吐得字符不是<code>&gt;</code>，回溯，再给我吐一个</td>
</tr>
<tr>
<td>\<p>Hollysys\</p> comp</td>
<td>吐得字符不是<code>&gt;</code>，回溯，再给我吐一个</td>
</tr>
<tr>
<td>\<p>Hollysys\</p> com</td>
<td>吐得字符不是<code>&gt;</code>，回溯，再给我吐一个</td>
</tr>
<tr>
<td>\<p>Hollysys\</p> co</td>
<td>吐得字符不是<code>&gt;</code>，回溯，再给我吐一个</td>
</tr>
<tr>
<td>\<p>Hollysys\</p> c</td>
<td>吐得字符不是<code>&gt;</code>，回溯，再给我吐一个</td>
</tr>
<tr>
<td>\<p>Hollysys\</p></td>
<td>吐得字符不是<code>&gt;</code>，回溯，再给我吐一个</td>
</tr>
<tr>
<td>\<p>Hollysys\</p></td>
<td>是<code>&gt;</code>，完成匹配</td>
</tr>
</tbody>
</table>
<ul>
<li><code>&lt;.*?&gt;</code></li>
</ul>
<table>
<thead>
<tr>
<th>匹配结果</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;</td>
<td>先匹配<code>&lt;</code>字符，在位置8匹配成功</td>
</tr>
<tr>
<td>\&lt;</td>
<td>懒惰匹配，量词取下限0，<code>.*</code>被忽略</td>
</tr>
<tr>
<td>\&lt;p</td>
<td>不是<code>&gt;</code>，回溯</td>
</tr>
<tr>
<td>\&lt;p</td>
<td><code>.*</code>匹配1个字符</td>
</tr>
<tr>
<td>\<p></p></td>
<td>是<code>&gt;</code>，完成匹配</td>
</tr>
<tr>
<td>\<p>、\</p></td>
<td>全局匹配，未到尾部继续按上述步骤向前匹配又找到<code>&lt;/p&gt;</code></td>
</tr>
</tbody>
</table>
<h3 id="3-4-分组"><a href="#3-4-分组" class="headerlink" title="3.4.分组"></a>3.4.分组</h3><p>​    在2.5.9中我们说到了分组捕获以及对组的命名，那么我们来看一种情况：</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/同名分组.jpg" alt=""></p>
<p>​    当对两个组使用相同的名称时，最终的结果只会显示最后一个，是被覆盖了么？其实每一个组都是一个堆栈，当正则从左向右匹配分组内的子表达式时，会将匹配结果捕获出来压入指定名称的栈中。而组获取的文本是栈顶的数据，所以最终取到的结果是<code>sys</code>。但我只想要上一个结果怎么办？那就可以使用<code>(?&#39;-one&#39;)</code>将顶部的栈弹出：</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/弹出栈.jpg" alt=""></p>
<h3 id="3-5-正则表达式优化的一些小技巧"><a href="#3-5-正则表达式优化的一些小技巧" class="headerlink" title="3.5.正则表达式优化的一些小技巧"></a>3.5.正则表达式优化的一些小技巧</h3><ol>
<li>避免重新编译，编译正则表达式的次数尽可能的少；</li>
<li>如果不需要括号内的子表达式匹配结果，最好使用非捕获符号<code>?:</code>；</li>
<li>不要滥用括号和字符组；</li>
<li>从量词中提取出来必须的元素；</li>
<li>提取分支条件开头或结尾必须的元素；</li>
<li>使用正确的边界符限定搜索区域；</li>
<li>尽量不适用通配符，使用具体的元字符；</li>
<li>使用正确的量词，并尽可能限定长度；</li>
</ol>
<h2 id="4-一些正则调试辅助工具"><a href="#4-一些正则调试辅助工具" class="headerlink" title="4.一些正则调试辅助工具"></a>4.一些正则调试辅助工具</h2><h3 id="4-1-Regexper"><a href="#4-1-Regexper" class="headerlink" title="4.1.Regexper"></a>4.1.Regexper</h3><p>​    Regexper是一款JavaScript可视化正则调试工具，它可以解析正则表达式并将匹配方式可视的显示出来，这比直接读正则表达式方便了很多，也编译找出自己写的表达式中存在哪些逻辑或者语法上的错误。</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/regexper.jpg" alt=""></p>
<p>工具地址：<a href="https://regexper.com" target="_blank" rel="noopener">Regexper</a></p>
<h3 id="4-2-在线正则表达式测试"><a href="#4-2-在线正则表达式测试" class="headerlink" title="4.2.在线正则表达式测试"></a>4.2.在线正则表达式测试</h3><p>​    这个是比较简单的轻量级在线调试工具，并提供了一些常用的表达式。</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/在线正则工具.jpg" alt=""></p>
<p>工具地址：<a href="http://tool.oschina.net/regex/" target="_blank" rel="noopener">在线正则表达测试</a></p>
<h3 id="4-3-正则表达式测试器"><a href="#4-3-正则表达式测试器" class="headerlink" title="4.3.正则表达式测试器"></a>4.3.正则表达式测试器</h3><p>​    也是一个轻量级桌面版正则表达式测试工具，展示比上面那个在线版要友好很多，支持匹配数据的导出。</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/regex_tester.png" alt=""></p>
<p>下载地址：<a href="http://deerchao.net/tools/regex_tester/index.htm" target="_blank" rel="noopener">正则表达测试器</a></p>
<h3 id="4-4-RegexBuddy"><a href="#4-4-RegexBuddy" class="headerlink" title="4.4.RegexBuddy"></a>4.4.RegexBuddy</h3><p>​    这个工具是一款功能强大的正则表达式编辑工具，使用能够帮助用户快速自动生成正则表达式，支持自动检查和修改生成的正则表达式，可在样本字符串和文件上快速测试任何正则表达式，防止实际数据出错。通过逐步完成实际的匹配过程来进行无猜测调试。最主要的，它可以对正则表达式进行Debug，他会以树状列表显示正则匹配的每一个过程和匹配最终的步长，这对性能优化有着非常大的帮助。</p>
<p><img src="http://www.forkbteam.com/usr/uploads/2018/regex/RegexBuddy.jpg" alt=""></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://handishenniu.coding.me/blog/blog/2019/02/15/2019-2-15-随笔/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="撼地神牛">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/blog/2019/02/15/2019-2-15-随笔/" class="post-title-link" itemprop="https://handishenniu.coding.me/blog/index.html">2019-2-15-随笔</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-02-15 09:27:21 / 修改时间：11:51:23" itemprop="dateCreated datePublished" datetime="2019-02-15T09:27:21+08:00">2019-02-15</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/blog/categories/笔记本/" itemprop="url" rel="index"><span itemprop="name">笔记本</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>现在</strong>的心情无比沮丧，虽然没吃过屎，但是我敢肯定，比吃了屎还她妈难受！所以就在这里来无病呻吟一下，骂骂脏话！</p>
<p>谁他妈的知道女人们咋想的？谁他妈的知道女人们想要什么？</p>
<p>谁规定的要过洋节？谁规定的情人节就非得要男的给女的送礼物？</p>
<p>你要过情人节，你要过三八，你要过六一，你要过七夕，你要过平安夜，你还要过年，可以！但是请你不要挑三拣四，送给你的是一片心意，满不满意是你自己良心该考虑的事情！</p>
<p>俗话说得好，温饱思淫欲，一点都不假，真的狠袁隆平老爷爷，给你们吃的太饱了！才让你们有功夫来过那些有的没的乱七八糟的节日。</p>
<p>由于男人在生理结构上和女人的先天性差异，导致男性在农耕时代承担了最主要的劳动力，但是现在是二十一世纪的信息时代，男女平等，并不存在男尊女卑的现象，可是不知道现在的社会为什么如此畸形，男人为什么要去承受那么大的压力？过日子是两个人的事情，不是男人一个人的事情。什么男的赚钱养家，什么女的美貌如花，都他妈见鬼去吧！如果是这样的话，女人最应该呆的地方是动物园，好吃好喝伺候着，还有粉丝们来观赏。</p>
<p>当今社会的年轻人，浮躁，内心复杂。在以前，民风淳朴，善良，人们愁着找吃的、穿的，每天不出门干活，就会被饿死，冻死。而如今，人们衣食无忧，人们的精神已经被严重的物欲横流的社会节奏给挤压残害。因为我们不懂得明天的世界将会发生什么变化，不知道明天早上起来，世界又会变成什么样子，是不是菜价涨了，油价是不是又上升了，是不是哪儿又出了什么大新闻，每天沉浸在手机的海洋里，变化太快，生怕自己与时代脱节。</p>
<p>为什么要浮躁？我们害怕明年房价又涨了，孩子上不了好的学校，这个月的信用卡又刷爆了，所以我们千方百计的要谋生赚钱，人人都在为了未知的惶恐奔波劳累。我们总在跟别人比这个比那个，比房子，比车子，比存款，钞票的脚本永远跟不上面子的速度。没有什么是不能拿来比较的，没有对比就没有伤害，你争我抢，到头来无非就是你得到的可能就是比人失去的，你失去的也可能就是别人得到的，没什么值得炫耀的。人一辈子无非就是健康快乐最重要，挣再多的钱，享受再好的生活品质，到头来身体垮了，钱你一毛都带不走！<br>读前人的事迹和诗句，总是能给人一种脱离尘世，心旷神怡的感觉。</p>
<p>“一身诗意千寻瀑，万古人间四月天”。金岳霖先生写给林徽因的挽联，赞美女子才华如千寻飞瀑，长流不尽，令人心旷神怡。</p>
<p>“粗缯大布裹生涯，腹有诗书气自华”。出自苏轼《和董传留别》，生活当中身上包裹着粗衣劣布，胸中有学问气质自然光彩夺人。</p>
<p>“凌云劲竹真君子，空谷幽兰绝美人”。形容女子遗世而独立，不献媚依附于人，清鲜隽永，温婉出尘。</p>
<p>人要有内在养，成天勾心斗角、攀比虚荣，贪得无厌，没有丝毫文化修养，涂油光鲜靓丽的外表，依旧招人厌恶！<br>在当下物欲横流且处处充满诱惑的社会里，最大的幸福莫过于守住一颗淡定而宁静的心，丢下一切包袱，超于自己，打开心灵的窗户，听一首悠扬的乐曲，沏一壶茶凝望无尽的夜空，品读月色的凝重，稀疏性性的话语，感受万家灯火的甜蜜。或是在某个周末，阳光明媚的午后，换上一身舒适的家居服，放着轻松愉悦的歌曲，收拾一下衣柜的衣物，打扫一下房间，用心做一顿的午餐，等待与爱人分享，人生何求。</p>
<h1 id="节日千万个，快乐第一个。"><a href="#节日千万个，快乐第一个。" class="headerlink" title="节日千万个，快乐第一个。"></a>节日千万个，快乐第一个。</h1><h1 id="需求不满足，情人两行泪。"><a href="#需求不满足，情人两行泪。" class="headerlink" title="需求不满足，情人两行泪。"></a>需求不满足，情人两行泪。</h1>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://handishenniu.coding.me/blog/blog/2019/02/04/2019-02-04-新生命的诞生/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="撼地神牛">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/blog/2019/02/04/2019-02-04-新生命的诞生/" class="post-title-link" itemprop="https://handishenniu.coding.me/blog/index.html">新生命的诞生</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-02-04 23:20:43" itemprop="dateCreated datePublished" datetime="2019-02-04T23:20:43+08:00">2019-02-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-02-14 16:55:17" itemprop="dateModified" datetime="2019-02-14T16:55:17+08:00">2019-02-14</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/blog/categories/生活/" itemprop="url" rel="index"><span itemprop="name">生活</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/blog/categories/生活/小汤圆/" itemprop="url" rel="index"><span itemprop="name">小汤圆</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天是2019年2月4日，农历腊月三十。</p>
<p><strong>昨天早上</strong>起床后，洗漱完毕吃完早餐，开始收拾打扫卫生收拾房间，准备迎接新的一年。把阳台晾晒干的床单被罩收下来叠好，把衣柜里面的所有衣物都搬出来，放在床上全部重新整理叠放整齐，准备大干一场，老婆挺着大肚子，但还是闲不下，非要帮忙收拾家里卫生，听见厨房里面叮叮咚咚的声音，我走出来才发现，老婆带着口罩，穿着防水手套，已经把油烟机拆下来在冲洗了。。。整个厨房里面散发着刺鼻的油污清洗剂的味道，又气又心疼的赶紧把她叫出来，让她坐在沙发上别再动了，然后我就继续去整理衣物。她刚坐下来没有五分钟，手里拿着牙刷，仓皇的走进房间给我说，准备去医院。。。于是赶紧放下手上的活，换好衣服准备出发。</p>
<p>在路上还没有太强烈的反应，到了医院之后就慢慢的感受到肚子间隔的疼，刚开始去急想诊办理住院，无果，告知在哪儿做的产检在哪儿生。给在医院上班的妹妹打电话求援，告知赶紧去门诊，于是扶着老婆，艰难的辗转到门诊，不得不说门诊的态度真好，看我慌慌整张的，护士帮我去办了卡，于是就在门诊开了住院。从三四点住进医院之后，老婆每个几分钟就疼得厉害，我就一直帮她做背部按摩，以缓解疼痛。为了不影响其它病床的病人，她疼得不敢叫，让我陪她在走廊里面走走。</p>
<p>直到晚上九点，老婆进了产房，我就在门口焦虑的等着，也不知道里面现在什么情况了，后来回信息说打了无痛了，感觉好点了，但是可能今晚生不了，让我先回病房睡觉，可是哪里能睡得着，一整晚都特别清醒，半夜的时候儿童团里面还聊的很嗨，大家都在期待小家伙的诞生。到了早上六点多，实在困得不行了就睡着了，七点多的时候老婆发信息说顺不下来，医生可能要给剖了。我知道老婆爱美，不想在肚子上挨一刀，毕竟从头到尾都认为自己能顺，我也很心疼她，怕她害怕怕她疼。可是时间不能再等了，医生再三的催我签字，说再等的话小孩就危险了，我的心情非常矛盾，可是我还是尊重她的意见，直到她最后给我发信息说听医生的，我才签了字，进去签字的时候，正好碰上医生交接班，听见主治医生给交班医生说，34床病人家属二货，都那个样子了还要等，都不知道他们家人怎么想的，我默默地没有说话，把字签了，他回头看了我一眼说，终于知道签了。。。</p>
<p>九点十分，丈母娘和小舅子帮忙把老婆退进手术室，我们依旧是在门口等，九点五十手术室门开了，先推出来的是小汤圆，老婆还得在里面继续观察一段时间。医生拿着单子，让我去办理小孩的住院，接下来我又是一顿乱窜，一会东边缴费一会西边领卡，等到我搬完所有手续之后，小舅子打电话说人已经出来了，让我赶紧上来，医生要给交代注意事项。于是赶紧回到病房，这时老婆意识还算清醒，医生嘱咐完所有的注意事项后，我就让丈母娘和小舅子都回去了，医院规定只能留一个陪护人。这个时候我也来不及问小汤圆的情况，看着老婆躺在那里，吸着氧气，手挽手插满了各种针管，床头的仪器发出滴滴滴的声音，心里面很不是滋味。</p>
<p>等到一瓶液体输完之后，换第二瓶的时候，老婆说她感觉自己在颤抖，问我看是不是，我凑近仔细观察，没发现颤抖，到是看见她额头上有一块一块的共色印记，拉开被子一看，差点把我吓蒙了，整个胸膛全都是一块一块红色的印记，于是我赶紧跑出去叫医生过来看，医生跑进来，赶紧把液体停了，但是血压还是持续在110/150，她平时血压本来也不高，都在70/110，医生就问平时血压也这么高吗？我说没有。过了一会第一瓶液体已经输完，换上了第二瓶，刚换上没过多久，就听见我老婆用尽最后一点力气喊道，医生，我快呼吸不过来了，听见这句话的时候我都快哭了，我不知道接下来会怎样，所有的希望都寄托在医生那里，医生再次把药停了，医生也很紧张，因为她也从来没有遇见过这种情况，皮试已经做过了，没有问题，无奈之下把所有的消炎药都停了，换上了盐水，之后就没有出现过类似情况了。</p>
<p>经过刚才的事情之后，我更加不敢有丝毫的松懈，时刻注意观察老婆的情况，到了晚上八点多的时候，最后一瓶液体输完了，这个时候我才松了一口气，期间小汤圆是下午六点多送到病房的，只见他一直在睡觉，也不吃也不哭，我庆幸的跟老婆说，我们的宝宝好乖呀，都几个小时了，也不哭不闹。可是高兴的有点太早了，到了晚上九点以后，小汤圆就可是哭闹，面对这么小的一个新生命，我有点束手无策，不知道他为什么哭，老婆说她可能饿了，于是我就第一次给他冲奶粉，按照老婆说的比例和温度，冲好了奶粉开始喂小汤圆吃奶。喂了半天，只见小嘴巴在动，可是奶根本就没有少。当时不知道为什么，以为就只能吃那么多，可是过一会又开始哭，我以为拉粑粑了，然后给换尿布，发现根本就跟没有拉一样。可是换完了之后还是各种哭闹，哭的最撕心裂肺的是半夜三四点的时候，隔壁陪护阿姨说你娃是不是哪儿不舒服，于是我就抱去给医生看，医生说是不是没有吃饱，我说我喂过了呀，可是他都不怎么吃。后来才知道，是我没有把奶嘴放进去，小孩根本就没有吃到。。。</p>
<p>到了天亮的时候，丈母娘做了饭送过来了，准备让我吃完去妹妹家睡一觉，可是这个时候我反而一点都不困了，吃完饭之后，给丈母娘交代完注意事项之后，我稍稍的松了一口气，出了医院大门，点了一根烟，打了出租车，一路上都在跟司机大哥闲篇，心里面美滋滋的</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://handishenniu.coding.me/blog/blog/2018/12/14/2018-12-14-不要在网上晒娃/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="撼地神牛">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/blog/2018/12/14/2018-12-14-不要在网上晒娃/" class="post-title-link" itemprop="https://handishenniu.coding.me/blog/index.html">不要在网上晒娃</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-14 11:17:46 / 修改时间：11:18:51" itemprop="dateCreated datePublished" datetime="2018-12-14T11:17:46+08:00">2018-12-14</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>照片的meta data有时间、地理位置。出生时的照片：推算出生日期与地点；第一天上学的照片：是时候投放文具、课外兴趣班的广告了；在家里、小区里的照片：知道你家在哪了，可以进行绑票、恐吓活动了。</p>
<p>很多网站都有“安全问题”：你的生日？你的出生地？你妈贵姓？你最喜欢的运动？你的童年梦想？这些答案或许能从你的社交账号里挖掘出来。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://handishenniu.coding.me/blog/blog/2018/12/13/2018-12-13-hexo搜索一直loding解决方案/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="撼地神牛">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/blog/2018/12/13/2018-12-13-hexo搜索一直loding解决方案/" class="post-title-link" itemprop="https://handishenniu.coding.me/blog/index.html">hexo搜索一直loding解决方案</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-13 16:05:48" itemprop="dateCreated datePublished" datetime="2018-12-13T16:05:48+08:00">2018-12-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-12-14 09:57:57" itemprop="dateModified" datetime="2018-12-14T09:57:57+08:00">2018-12-14</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>查看在本地调试服务器(<a href="http://localhost:4000/blog/search.xml)查看search.xml是否能够正常访问" target="_blank" rel="noopener">http://localhost:4000/blog/search.xml)查看search.xml是否能够正常访问</a><br><img src="https://i.loli.net/2018/12/13/5c12134b7e693.png" alt="TIM截图20181213160735.png"></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://handishenniu.coding.me/blog/blog/2018/12/11/hello-world/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="撼地神牛">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/blog/2018/12/11/hello-world/" class="post-title-link" itemprop="https://handishenniu.coding.me/blog/index.html">Hello World</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-11 14:38:56" itemprop="dateCreated datePublished" datetime="2018-12-11T14:38:56+08:00">2018-12-11</time>
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://handishenniu.coding.me/blog/blog/2018/12/03/hexo个性化/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="撼地神牛">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/blog/2018/12/03/hexo个性化/" class="post-title-link" itemprop="https://handishenniu.coding.me/blog/index.html">hexo个性化</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-03 15:11:16" itemprop="dateCreated datePublished" datetime="2018-12-03T15:11:16+08:00">2018-12-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-12-11 15:05:51" itemprop="dateModified" datetime="2018-12-11T15:05:51+08:00">2018-12-11</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>给自己的博客换上漂亮的主题，本次采用NexT主题。<img src="https://i.loli.net/2018/12/03/5c04d50839aae.png" alt="微信截图_20181203150119.png"></p>
<p>1.进入到自己的hexo项目中，输入：git clone <a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">https://github.com/theme-next/hexo-theme-next</a> themes/next  </p>
<p><img src="https://i.loli.net/2018/12/03/5c04d5705c1f0.png" alt="微信截图_20181203150305.png"></p>
<p>2.进入到hexo配置文件_config.yml，修改_theme</p>
<p><img src="https://i.loli.net/2018/12/03/5c04d5ca8c183.png" alt="微信截图_20181203150437.png"></p>
<p>3.执行命令：hexo s启动项目，查看界面样式已经变味清新的Next风格</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://handishenniu.coding.me/blog/blog/2018/12/03/使用Hexo+Github搭建属于自己的博客/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="撼地神牛">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/blog/2018/12/03/使用Hexo+Github搭建属于自己的博客/" class="post-title-link" itemprop="https://handishenniu.coding.me/blog/index.html">使用Hexo+Github搭建属于自己的博客</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-03 14:29:14" itemprop="dateCreated datePublished" datetime="2018-12-03T14:29:14+08:00">2018-12-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-12-11 15:05:51" itemprop="dateModified" datetime="2018-12-11T15:05:51+08:00">2018-12-11</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="1、安装Node-js和配置好Node-js环境，打开cmd命令行，成功界面如下"><a href="#1、安装Node-js和配置好Node-js环境，打开cmd命令行，成功界面如下" class="headerlink" title="1、安装Node.js和配置好Node.js环境，打开cmd命令行，成功界面如下"></a>1、安装Node.js和配置好Node.js环境，打开cmd命令行，成功界面如下</h5><p><img src="https://i.loli.net/2018/12/03/5c04a1569c914.png" alt="微信截图_20181203112037.png"></p>
<h5 id="2、安装Git和配置好Git环境，安装成功的象征就是在电脑上任何位置鼠标右键能够出现如下两个选择"><a href="#2、安装Git和配置好Git环境，安装成功的象征就是在电脑上任何位置鼠标右键能够出现如下两个选择" class="headerlink" title="2、安装Git和配置好Git环境，安装成功的象征就是在电脑上任何位置鼠标右键能够出现如下两个选择"></a>2、安装Git和配置好Git环境，安装成功的象征就是在电脑上任何位置<strong>鼠标右键</strong>能够出现如下两个选择</h5><p><img src="https://i.loli.net/2018/12/03/5c04a1dc2c277.png" alt="微信截图_20181203112237.png"></p>
<h5 id="3、Github账户注册和新建项目，项目必须要遵守格式：账户名-github-io，不然接下来会有很多麻烦。并且需要勾选Initialize-this-repository-with-a-README"><a href="#3、Github账户注册和新建项目，项目必须要遵守格式：账户名-github-io，不然接下来会有很多麻烦。并且需要勾选Initialize-this-repository-with-a-README" class="headerlink" title="3、Github账户注册和新建项目，项目必须要遵守格式：账户名.github.io，不然接下来会有很多麻烦。并且需要勾选Initialize this repository with a README"></a>3、Github账户注册和新建项目，项目必须要遵守格式：账户名.github.io，不然接下来会有很多麻烦。并且需要勾选Initialize this repository with a README</h5><p><img src="https://i.loli.net/2018/12/03/5c04a35cc6ab3.png" alt="微信截图_20181203112924.png"></p>
<p>注意：必须选择一个主题才能访问github page</p>
<p><img src="https://i.loli.net/2018/12/03/5c04c429b2f74.png" alt="微信截图_20181203114140.png"></p>
<p>在建好的项目右侧有个settings按钮，点击它，向下拉到GitHub Pages，你会看到那边有个网址，访问它，你将会惊奇的发现该项目已经被部署到网络上，能够通过外网来访问它。  </p>
<p><img src="https://i.loli.net/2018/12/03/5c04c4b603ae5.png" alt="微信截图_20181203135041.png"></p>
<h5 id="4、安装Hexo，在自己认为合适的地方创个文件夹，如hello-hexo，然后通过命令行进入到该文件夹里面"><a href="#4、安装Hexo，在自己认为合适的地方创个文件夹，如hello-hexo，然后通过命令行进入到该文件夹里面" class="headerlink" title="4、安装Hexo，在自己认为合适的地方创个文件夹，如hello-hexo，然后通过命令行进入到该文件夹里面"></a>4、安装Hexo，在自己认为合适的地方创个文件夹，如hello-hexo，然后通过命令行进入到该文件夹里面</h5><p><img src="https://i.loli.net/2018/12/03/5c04c5ce42516.png" alt="微信截图_20181203135612.png"></p>
<p>输入npm install hexo -g，开始安装Hexo </p>
<p><img src="https://i.loli.net/2018/12/03/5c04c65963ef1.png" alt="微信截图_20181203135846.png"></p>
<p>进入到hello-hexo文件夹，点击右键，选择Git bash here，输入hexo -v，检查hexo是否安装成功 <img src="https://i.loli.net/2018/12/03/5c04c7764cddf.png" alt="微信截图_20181203140327.png"></p>
<p>输入hexo init，初始化该文件夹（有点漫长的等待。。。） </p>
<p><img src="https://i.loli.net/2018/12/03/5c04c7e722606.png" alt="微信截图_20181203140520.png"></p>
<p>输入npm install，安装所需要的组件 <img src="https://i.loli.net/2018/12/03/5c04c8223683f.png" alt="微信截图_20181203140620.png"></p>
<p>输入hexo g，首次体验Hexo <img src="https://i.loli.net/2018/12/03/5c04c8740447f.png" alt="微信截图_20181203140742.png"></p>
<p>输入hexo s，开启服务器，访问该网址，正式体验Hexo </p>
<p><img src="https://i.loli.net/2018/12/03/5c04c8acae290.png" alt="微信截图_20181203140839.png"></p>
<p><img src="https://i.loli.net/2018/12/03/5c04c91ba74a4.png" alt="微信截图_20181203141023.png"></p>
<p>问题：假如页面一直无法跳转，那么可能端口被占用了。此时我们ctrl+c停止服务器，接着输入“hexo server -p 端口号”来改变端口号 </p>
<p><img src="https://i.loli.net/2018/12/03/5c04c9cd94072.png" alt="微信截图_20181203141306.png"></p>
<h5 id="5、将Hexo与Github-page联系起来，设置Git的user-name和email"><a href="#5、将Hexo与Github-page联系起来，设置Git的user-name和email" class="headerlink" title="5、将Hexo与Github page联系起来，设置Git的user name和email"></a>5、将Hexo与Github page联系起来，设置Git的user name和email</h5><p>进入到C盘–&gt;当前用户–&gt;.ssh，用记事本打开id_rsa.pub</p>
<p><img src="https://i.loli.net/2018/12/03/5c04cb9e3a71f.png" alt="微信截图_20181203142112.png"></p>
<p><img src="https://i.loli.net/2018/12/03/5c04cc40f3214.png" alt="微信截图_20181203142356.png"></p>
<p>登录Github，点击头像下的settings，添加ssh <img src="https://i.loli.net/2018/12/03/5c04cb64a3e9d.png" alt="微信截图_20181203142012.png"></p>
<p>新建一个new ssh key，将id_rsa.pub文件里的内容复制上去 <img src="https://i.loli.net/2018/12/03/5c04cc838eeb7.png" alt="微信截图_20181203142501.png"></p>
<h5 id="6、配置Deployment，在其文件夹中，找到-config-yml文件，修改repo值（在末尾）"><a href="#6、配置Deployment，在其文件夹中，找到-config-yml文件，修改repo值（在末尾）" class="headerlink" title="6、配置Deployment，在其文件夹中，找到_config.yml文件，修改repo值（在末尾）"></a>6、配置Deployment，在其文件夹中，找到_config.yml文件，修改repo值（在末尾）</h5><p><img src="https://i.loli.net/2018/12/03/5c04ccf8b9c50.png" alt="微信截图_20181203142659.png"></p>
<h5 id="7、新建一篇博客，在cmd执行命令：hexo-new-post-“博客名”"><a href="#7、新建一篇博客，在cmd执行命令：hexo-new-post-“博客名”" class="headerlink" title="7、新建一篇博客，在cmd执行命令：hexo new post “博客名”"></a>7、新建一篇博客，在cmd执行命令：hexo new post “博客名”</h5><p><img src="https://i.loli.net/2018/12/03/5c04cdace0874.png" alt="微信截图_20181203142954.png"></p>
<p>这时候在文件夹_posts目录下将会看到已经创建的文件 </p>
<p><img src="https://i.loli.net/2018/12/03/5c04cdea20d8d.png" alt="微信截图_20181203143054.png"></p>
<p>在生成以及部署文章之前，需要安装一个扩展：npm install hexo-deployer-git –save </p>
<p><img src="https://i.loli.net/2018/12/03/5c04ce4e846d8.png" alt="微信截图_20181203143238.png"></p>
<p>使用编辑器编好文章，那么就可以使用命令：hexo g，生成编译后的文件</p>
<p><img src="https://i.loli.net/2018/12/03/5c04ceb00713d.png" alt="微信截图_20181203143417.png"></p>
<p>便以文件生成后，使用命令：hexo d，那么将看到生成的文章 <img src="https://i.loli.net/2018/12/03/5c04d08273587.png" alt="微信截图_20181203144201.png"></p>
<p>部署成功后访问你的地址：http://用户名.github.io。那么将看到生成的文章 </p>
<p><img src="https://i.loli.net/2018/12/03/5c04d0ea2838f.png" alt="微信截图_20181203144140.png"></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://handishenniu.coding.me/blog/blog/2018/12/03/Git常用命令/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="撼地神牛">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/blog/2018/12/03/Git常用命令/" class="post-title-link" itemprop="https://handishenniu.coding.me/blog/index.html">Git常用命令</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-03 09:53:20" itemprop="dateCreated datePublished" datetime="2018-12-03T09:53:20+08:00">2018-12-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-12-11 15:06:41" itemprop="dateModified" datetime="2018-12-11T15:06:41+08:00">2018-12-11</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png" alt="img"> </p>
<p>Workspace：工作区</p>
<p>Index / Stage：暂存区</p>
<p>Repository：仓库区（或本地仓库）</p>
<p>Remote：远程仓库一、新建代码库<br>一、新建代码库</p>
<pre><code># 在当前目录新建一个Git代码库
$ git init

# 新建一个目录，将其初始化为Git代码库
$ git init [project-name]

# 下载一个项目和它的整个代码历史
$ git clone [url]
</code></pre><p>二、配置</p>
<p>Git的设置文件为.gitconfig，它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。 </p>
<pre><code># 显示当前的Git配置
$ git config --list

# 编辑Git配置文件
$ git config -e [--global]

# 设置提交代码时的用户信息
$ git config [--global] user.name &quot;[name]&quot;
$ git config [--global] user.email &quot;[email address]&quot;
</code></pre><p>三、增加/删除文件</p>
<pre><code># 添加指定文件到暂存区
$ git add [file1] [file2] ...

# 添加指定目录到暂存区，包括子目录
$ git add [dir]

# 添加当前目录的所有文件到暂存区
$ git add .

# 添加每个变化前，都会要求确认
# 对于同一个文件的多处变化，可以实现分次提交
$ git add -p

# 删除工作区文件，并且将这次删除放入暂存区
$ git rm [file1] [file2] ...

# 停止追踪指定文件，但该文件会保留在工作区
$ git rm --cached [file]

# 改名文件，并且将这个改名放入暂存区
$ git mv [file-original] [file-renamed]
</code></pre><p>四、代码提交</p>
<pre><code># 提交暂存区到仓库区
$ git commit -m [message]

# 提交暂存区的指定文件到仓库区
$ git commit [file1] [file2] ... -m [message]

# 提交工作区自上次commit之后的变化，直接到仓库区
$ git commit -a

# 提交时显示所有diff信息
$ git commit -v

# 使用一次新的commit，替代上一次提交
# 如果代码没有任何新变化，则用来改写上一次commit的提交信息
$ git commit --amend -m [message]

# 重做上一次commit，并包括指定文件的新变化
$ git commit --amend [file1] [file2] ...
</code></pre><p>五、分支</p>
<pre><code># 列出所有本地分支
$ git branch

# 列出所有远程分支
$ git branch -r

# 列出所有本地分支和远程分支
$ git branch -a

# 新建一个分支，但依然停留在当前分支
$ git branch [branch-name]

# 新建一个分支，并切换到该分支
$ git checkout -b [branch]

# 新建一个分支，指向指定commit
$ git branch [branch] [commit]

# 新建一个分支，与指定的远程分支建立追踪关系
$ git branch --track [branch] [remote-branch]

# 切换到指定分支，并更新工作区
$ git checkout [branch-name]

# 切换到上一个分支
$ git checkout -

# 建立追踪关系，在现有分支与指定的远程分支之间
$ git branch --set-upstream [branch] [remote-branch]

# 合并指定分支到当前分支
$ git merge [branch]

# 选择一个commit，合并进当前分支
$ git cherry-pick [commit]

# 删除分支
$ git branch -d [branch-name]

# 删除远程分支
$ git push origin --delete [branch-name]
$ git branch -dr [remote/branch]
</code></pre><p>六、标签</p>
<pre><code># 列出所有tag
$ git tag

# 新建一个tag在当前commit
$ git tag [tag]

# 新建一个tag在指定commit
$ git tag [tag] [commit]

# 删除本地tag
$ git tag -d [tag]

# 删除远程tag
$ git push origin :refs/tags/[tagName]

# 查看tag信息
$ git show [tag]

# 提交指定tag
$ git push [remote] [tag]

# 提交所有tag
$ git push [remote] --tags

# 新建一个分支，指向某个tag
$ git checkout -b [branch] [tag]
</code></pre><p>七、查看信息</p>
<pre><code># 显示有变更的文件
$ git status

# 显示当前分支的版本历史
$ git log

# 显示commit历史，以及每次commit发生变更的文件
$ git log --stat

# 搜索提交历史，根据关键词
$ git log -S [keyword]

# 显示某个commit之后的所有变动，每个commit占据一行
$ git log [tag] HEAD --pretty=format:%s

# 显示某个commit之后的所有变动，其&quot;提交说明&quot;必须符合搜索条件
$ git log [tag] HEAD --grep feature

# 显示某个文件的版本历史，包括文件改名
$ git log --follow [file]
$ git whatchanged [file]

# 显示指定文件相关的每一次diff
$ git log -p [file]

# 显示过去5次提交
$ git log -5 --pretty --oneline

# 显示所有提交过的用户，按提交次数排序
$ git shortlog -sn

# 显示指定文件是什么人在什么时间修改过
$ git blame [file]

# 显示暂存区和工作区的代码差异
$ git diff

# 显示暂存区和上一个commit的差异
$ git diff --cached [file]

# 显示工作区与当前分支最新commit之间的差异
$ git diff HEAD

# 显示两次提交之间的差异
$ git diff [first-branch]...[second-branch]

# 显示今天你写了多少行代码
$ git diff --shortstat &quot;@{0 day ago}&quot;

# 显示某次提交的元数据和内容变化
$ git show [commit]

# 显示某次提交发生变化的文件
$ git show --name-only [commit]

# 显示某次提交时，某个文件的内容
$ git show [commit]:[filename]

# 显示当前分支的最近几次提交
$ git reflog

# 从本地master拉取代码更新当前分支：branch 一般为master
$ git rebase [branch]
</code></pre><p>八、远程同步</p>
<pre><code>$ git remote update  --更新远程仓储
# 下载远程仓库的所有变动
$ git fetch [remote]

# 显示所有远程仓库
$ git remote -v

# 显示某个远程仓库的信息
$ git remote show [remote]

# 增加一个新的远程仓库，并命名
$ git remote add [shortname] [url]

# 取回远程仓库的变化，并与本地分支合并
$ git pull [remote] [branch]

# 上传本地指定分支到远程仓库
$ git push [remote] [branch]

# 强行推送当前分支到远程仓库，即使有冲突
$ git push [remote] --force

# 推送所有分支到远程仓库
$ git push [remote] --all
</code></pre><p>九、撤销</p>
<pre><code># 恢复暂存区的指定文件到工作区
$ git checkout [file]

# 恢复某个commit的指定文件到暂存区和工作区
$ git checkout [commit] [file]

# 恢复暂存区的所有文件到工作区
$ git checkout .

# 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变
$ git reset [file]

# 重置暂存区与工作区，与上一次commit保持一致
$ git reset --hard

# 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变
$ git reset [commit]

# 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致
$ git reset --hard [commit]

# 重置当前HEAD为指定commit，但保持暂存区和工作区不变
$ git reset --keep [commit]

# 新建一个commit，用来撤销指定commit
# 后者的所有变化都将被前者抵消，并且应用到当前分支
$ git revert [commit]

# 暂时将未提交的变化移除，稍后再移入
$ git stash
$ git stash pop
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://handishenniu.coding.me/blog/blog/2018/11/26/2018-11-26-git-常用技巧/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="撼地神牛">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/blog/2018/11/26/2018-11-26-git-常用技巧/" class="post-title-link" itemprop="https://handishenniu.coding.me/blog/index.html">git 常用技巧</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-11-26 23:29:00" itemprop="dateCreated datePublished" datetime="2018-11-26T23:29:00+08:00">2018-11-26</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-02-15 11:55:17" itemprop="dateModified" datetime="2019-02-15T11:55:17+08:00">2019-02-15</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/blog/categories/前端杂烩/" itemprop="url" rel="index"><span itemprop="name">前端杂烩</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>git 的版本管理思路，十分简单：使用一个类似链表的结构，将每次修改记录串联起来。每次提交都会产生一个 SHA1 的唯一标示符，我们可以利用 git 提供的命令行工具对“链表”中的每次修改进行编辑、删除、插入、移动等等多种操作。下面就介绍几种十分有用也比较常用的操作方法，为了方便理解，表述上可能不够准确。</p>
<p>下面是一个提交了 4 次的分支效果，每个节点的意思是 <code>节点名(commit 信息 - SHA1)</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A(add A - 510fdc) -&gt; B(add B - 0406b6) -&gt; C(add C - 39a9c2) -&gt; D(add D - 3131e0)&lt;当前&gt;</span><br></pre></td></tr></table></figure>
<h3 id="修改最近一次的提交信息"><a href="#修改最近一次的提交信息" class="headerlink" title="修改最近一次的提交信息"></a>修改最近一次的提交信息</h3><p>将上次提交的信息（add D），修改为 <code>push D</code>，可以通过 commit 的 amend 指令进行修改，如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend</span><br><span class="line"><span class="comment"># 执行命令后，会进入到一个交互窗口，可以在交互窗口内修改上次的提交信息</span></span><br></pre></td></tr></table></figure>
<h3 id="利用-rebase-对提交进行各种修改"><a href="#利用-rebase-对提交进行各种修改" class="headerlink" title="利用 rebase 对提交进行各种修改"></a>利用 rebase 对提交进行各种修改</h3><p>rebase 的常用操作分为这么几步：</p>
<ol>
<li>选择操作的起点位置，<code>git rebase -i SHA1</code></li>
<li>指定每个节点的操作方式，<code>保留/删除/修改/...</code>，进入操作</li>
<li>进入下一步操作/终止操作，<code>git rebase --continue</code>，<code>git rebase --abort</code></li>
</ol>
<p>比如我们要将节点 B 的 commit 信息（add B），修改为 <code>push B</code>，那么按照上述的操作指南，可以执行（<strong>第一步</strong>）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一步，进入 B 之前的节点，A</span></span><br><span class="line">git rebase -i 510fdc <span class="comment"># 510fdc 是 A 节点的 SHA1</span></span><br></pre></td></tr></table></figure>
<p>此时会进入一个交互窗口，内容大致为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pick B 0406b6</span><br><span class="line">pick C 39a9c2</span><br><span class="line">pick D 3131e0</span><br></pre></td></tr></table></figure>
<p><strong>你需要看懂这个结构</strong>，不过也不用紧张，它很简单。由于我们将操作指针指向了 A，所以它会展示 A 以后的所有提交记录，根据链表顺序排列，依次展示节点 B、C、D，前面的一个英文单词是操作指令，总共有这么几种指令：</p>
<ul>
<li><code>pick</code>，保留节点，不做任何变更</li>
<li><code>edit</code>，保留节点，修改内容</li>
<li><code>drop</code>，删除节点，删除本次提交</li>
<li><code>reword</code>，保留节点，修改提交信息</li>
<li><code>squash</code>，保留节点修改，并且与上一个节点合并，也就是两次提交并做一次</li>
<li><code>fixup</code>，保留节点修改，忽略本次提交信息</li>
<li><code>exec</code>，run command (the rest of the line) using shell</li>
</ul>
<p>用的比较多的是前三个，可以只关注前三个。我们需要修改下交互窗口的内容，改为（<strong>第二步</strong>）：</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ edit B 0406b6</span></span><br><span class="line"><span class="deletion">- pick B 0406b6</span></span><br><span class="line">pick C 39a9c2</span><br><span class="line">pick D 3131e0</span><br></pre></td></tr></table></figure>
<p>上面是 diff，实际内容是：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">edit B 0406b6</span><br><span class="line">pick C 39a9c2</span><br><span class="line">pick D 3131e0</span><br></pre></td></tr></table></figure>
<p>此时会进入一个临时 git 分支，大致是这样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">branch(0406b6):</span><br></pre></td></tr></table></figure>
<p>由于你告诉了 git 要对 B 节点就行修改，所以它就停在了 B 处理，等着你修改，此时，你可以通过 amend 命令修改提交信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">branch(0406b6): git commit --amend</span><br><span class="line"><span class="comment"># 进入交互窗口，将 commit 信息修改为 push B</span></span><br></pre></td></tr></table></figure>
<p>操作完成后，执行（<strong>第三步</strong>）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure>
<p>由于你告诉 git 只需要操作一个节点，所以它会回到最初的位置&lt;当前&gt;，否则的话，它会继续进入下一个临时 git 分支。当然，如果你进入第三步以后，突然又不想修改了，可以执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase --skip</span><br></pre></td></tr></table></figure>
<p>跳过对本节点的修改。</p>
<p>以上就是 rebase 的基本使用方法，那么留下几个思考题，读者可以自行操作：</p>
<ul>
<li>通过 rebase 删除 C 节点（drop）</li>
<li>通过 rebase 合并 A 和 B 节点的修改（squash）</li>
<li>交换 B 和 C 的提交顺序</li>
</ul>
<h3 id="将一个分支的修改合并到另一个分支"><a href="#将一个分支的修改合并到另一个分支" class="headerlink" title="将一个分支的修改合并到另一个分支"></a>将一个分支的修改合并到另一个分支</h3><p>通过 <code>git cherry-pick SHA1</code> 这个指令可以可以完成目标，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">master: A(add A - 510fdc) -&gt; B(add B - 0406b6) -&gt; C(add C - 39a9c2)&lt;当前&gt;</span><br><span class="line">                                     \</span><br><span class="line">dev:                             D(add D - 4569c2) -&gt; E(add E - 087342)</span><br></pre></td></tr></table></figure>
<p>如果我们想把 dev 分支 D 节点的修改合并到 master 分支，可以执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先确保自己在 master 分支上，git branch master</span></span><br><span class="line">git cherry-pick 4569c2 <span class="comment"># 4569c2 为 D 节点的 SHA1</span></span><br></pre></td></tr></table></figure>
<h3 id="快速定位一个-bug-在哪次修改上"><a href="#快速定位一个-bug-在哪次修改上" class="headerlink" title="快速定位一个 bug 在哪次修改上"></a>快速定位一个 bug 在哪次修改上</h3><p>假设我们在本地提交了一堆 commit，正准备 push 到仓库之前，发现有一个 bug，但是记不起来是哪一次 commit 造成的了，怎么办？我们需要通过 <code>reset/rebase/stash</code> 等操作回滚到上一个状态进行测试，但是这样会很麻烦，而且效率不一定很高，git 为我们提供了更加便捷的工具 <code>git bisect</code>，通过二分法找 bug。它提供的命令也很直白：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git bisect start                 <span class="comment"># 进入二分查找</span></span><br><span class="line">git bisect good [good-commit-id] <span class="comment"># 设置没问题的版本 SHA1，排查起点</span></span><br><span class="line">git bisect bad [bad-commit-id]   <span class="comment"># 设置有问题的版本 SHA1，排查终点</span></span><br><span class="line"><span class="comment"># 此时 git 就会自动进入到中间版本状态</span></span><br></pre></td></tr></table></figure>
<p>进入中间版本状态，测试后，如果有问题，就标记为 bad，如果没有问题，就标记为 good，如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect bad  <span class="comment"># 有问题</span></span><br><span class="line">git bisect good <span class="comment"># 没问题</span></span><br></pre></td></tr></table></figure>
<p>当你找到问题以后，可以执行 reset 回到初始状态：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git bisect reset</span><br></pre></td></tr></table></figure>
<p>然后通过上面介绍的 rebase edit 操作对错误分支进行修改。</p>
<hr>
<p>（未完待续）</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/28/">28</a><a class="extend next" rel="next" href="/blog/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Lion</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/blog/archives/">
                
                    <span class="site-state-item-count">273</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/blog/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">84</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/blog/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">215</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lion</span>

  

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="总访客量">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="总访问量">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script src="/blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script src="/blog/js/src/utils.js?v=6.6.0"></script>

  <script src="/blog/js/src/motion.js?v=6.6.0"></script>



  
  

  

  


  <script src="/blog/js/src/bootstrap.js?v=6.6.0"></script>



  



  











  

  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/blog/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  
  

  

  

  

  

  

  

  <script src="/blog/js/src/music/aplayer.js?v=6.6.0"></script>
  <script src="/blog/js/src/music/init.js?v=6.6.0"></script>
</body>
</html>
